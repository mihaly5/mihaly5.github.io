<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compound Interest Calculator</title>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2023839620373581"
     crossorigin="anonymous"></script>

    <link rel="stylesheet" href="style.css">
    <script src="lang.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>

    <nav>
        <ul>
            <li><a href="index.html" data-lang="nav_home">Home</a></li>
            <li><a href="kamatos.html" style="color:#3b82f6;" data-lang="nav_invest">Investment</a></li>
            <li><a href="hitel.html" data-lang="nav_loan">Loan</a></li>
            <li><a href="black_scholes.html" data-lang="nav_bs">Black-Scholes</a></li>
            <li>
                <select id="lang-selector" class="lang-select">
                    <option value="hu">ðŸ‡­ðŸ‡º HU</option>
                    <option value="en">ðŸ‡¬ðŸ‡§ EN</option>
                    <option value="de">ðŸ‡©ðŸ‡ª DE</option>
                    <option value="es">ðŸ‡ªðŸ‡¸ ES</option>
                </select>
            </li>
        </ul>
    </nav>

    <div class="container">
        <h1 data-lang="invest_title">Compound Interest Calculator</h1>
        <p style="text-align:center; color:#94a3b8;" data-lang="invest_sub">Visualize wealth growth.</p>
        
        <label data-lang="lbl_start_capital">Starting Capital:</label>
        <input type="number" id="start-amount" placeholder="1000000" min="0">

        <label data-lang="lbl_monthly_add">Monthly Contribution:</label>
        <input type="number" id="monthly-contribution" placeholder="50000" min="0">

        <label data-lang="lbl_interest_rate">Annual Interest Rate (%):</label>
        <input type="number" id="interest-rate" placeholder="7" min="0">

        <label data-lang="lbl_years">Term (Years):</label>
        <input type="number" id="years" placeholder="10" min="1">

        <button class="calc-btn" onclick="calculateInterest()" data-lang="btn_calc">Calculate</button>

        <div class="result" id="result" style="display:none;"></div>
        <div class="chart-container" style="display:none;" id="chart-wrapper">
            <canvas id="growthChart"></canvas>
        </div>
    </div>

    <div id="content-en" class="container seo-content lang-content">
        <h2>Power of Compound Interest</h2>
        <p>Compound interest is interest on interest. It makes your money grow faster over time.</p>
    </div>
    <div id="content-hu" class="container seo-content lang-content">
        <h2>A Kamatos Kamat Ereje</h2>
        <p>A kamatos kamat kamat a kamaton. Ez teszi lehetÅ‘vÃ©, hogy a pÃ©nzed idÅ‘vel egyre gyorsabban nÃ¶vekedjen.</p>
    </div>
    <div id="content-de" class="container seo-content lang-content">
        <h2>Die Macht des Zinseszinses</h2>
        <p>Zinseszins ist Zins auf Zins. Er lÃ¤sst Ihr Geld im Laufe der Zeit schneller wachsen.</p>
    </div>
    <div id="content-es" class="container seo-content lang-content">
        <h2>El Poder del InterÃ©s Compuesto</h2>
        <p>El interÃ©s compuesto es interÃ©s sobre interÃ©s. Hace que tu dinero crezca mÃ¡s rÃ¡pido con el tiempo.</p>
    </div>

    <footer>
        <p>&copy; 2025 <span data-lang="footer_rights">All Rights Reserved.</span> | <a href="privacy.html" data-lang="nav_privacy">Privacy</a></p>
    </footer>

    <script>
        let myChart = null;

        function calculateInterest() {
            let principal = parseFloat(document.getElementById('start-amount').value);
            let monthly = parseFloat(document.getElementById('monthly-contribution').value);
            let rate = parseFloat(document.getElementById('interest-rate').value);
            let years = parseFloat(document.getElementById('years').value);

            if (isNaN(principal)) principal = 0;
            if (isNaN(monthly)) monthly = 0;
            if (isNaN(rate)) rate = 0;
            if (isNaN(years) || years <= 0) return;

            let months = years * 12;
            let monthlyRate = rate / 100 / 12;

            let labels = [];
            let dataInvested = [];
            let dataTotal = [];

            let currentTotal = principal;
            let totalInvested = principal;

            for (let i = 0; i <= months; i++) {
                if (i % 12 === 0) labels.push(i / 12 + "Y");
                else labels.push(""); 

                dataInvested.push(totalInvested);
                dataTotal.push(currentTotal);

                currentTotal = currentTotal * (1 + monthlyRate) + monthly;
                totalInvested += monthly;
            }

            const lang = localStorage.getItem('selectedLang') || 'en';
            const t = translations[lang] || translations['en'];
            const currency = lang === 'hu' ? 'HUF' : 'USD';
            const locale = lang === 'hu' ? 'hu-HU' : 'en-US';
            
            let formatter = new Intl.NumberFormat(locale, { style: 'currency', currency: currency, maximumFractionDigits: 0 });
            let profit = currentTotal - totalInvested;

            document.getElementById('result').style.display = 'block';
            document.getElementById('result').innerHTML = 
                `<strong>${t.res_final_balance}</strong> <span style="font-size:1.5em; color:#10b981">${formatter.format(currentTotal)}</span><br>` +
                `<div style="font-size:0.9em; margin-top:10px; color:#cbd5e1;">` +
                `${t.res_total_invested} ${formatter.format(totalInvested)}<br>` +
                `${t.res_profit} ${formatter.format(profit)}` +
                `</div>`;

            document.getElementById('chart-wrapper').style.display = 'block';
            let ctx = document.getElementById('growthChart').getContext('2d');

            if (myChart) myChart.destroy();

            myChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: t.chart_invested,
                            data: dataInvested,
                            borderColor: '#94a3b8',
                            backgroundColor: 'rgba(148, 163, 184, 0.1)',
                            fill: true,
                            pointRadius: 0
                        },
                        {
                            label: t.chart_profit,
                            data: dataTotal,
                            borderColor: '#3b82f6',
                            backgroundColor: 'rgba(59, 130, 246, 0.2)',
                            fill: true,
                            pointRadius: 0
                        }
                    ]
                },
                options: {
                    responsive: true,
                    interaction: { mode: 'index', intersect: false },
                    scales: {
                        x: { grid: { color: '#334155' }, ticks: { color: '#cbd5e1', maxTicksLimit: 10 } },
                        y: { grid: { color: '#334155' }, ticks: { color: '#cbd5e1' } }
                    },
                    plugins: { legend: { labels: { color: '#fff' } } }
                }
            });
        }
    </script>
</body>
</html>